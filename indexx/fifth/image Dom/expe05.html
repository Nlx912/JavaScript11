<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>实验5：图片的DOM操作</title>
		<style type="text/css">
			html,div,ul,li {margin: 0px;padding: 0px;}
			a{cursor: pointer;}
			li {list-style: none;cursor: pointer;}
			fieldset {border: #000 1px dashed;width: 225px;height: 225px;padding: 10px;text-align: center;float: left;margin-left: 5px;}
			fieldset p{width: 225px;word-wrap:break-word;}
			#cont_left {width: 300px;height: 500px;float: left;}
			#cont_right {float: left;}
			.newcss1{background-color: yellowgreen;}
		</style>
	</head>
	<body>
		<div id="cont_left">
			<ul><img src="img/fold.gif"><a onclick="show('menu1')"> 通过DOM获取信息 </a>
				<ul id="menu1">
					<li><img src="img/doc.gif">获取原始图片路径</li>
					<li><img src="img/doc.gif">获取我喜欢的水果</li>
				</ul>
			</ul>

			<ul><img src="img/fold.gif"><a onclick="show('menu2')"> 通过DOM操作元素 </a>
				<ul id="menu2">
					<li><img src="img/doc.gif">创建图片</li>
					<li><img src="img/doc.gif">克隆图片</li>
					<li><img src="img/doc.gif">改变图片</li>
					<li><img src="img/doc.gif">删除图片</li>
				</ul>
			</ul>

			<ul><img src="img/fold.gif"><a onclick="show('menu3')"> 通过DOM操作样式 </a>
				<ul id="menu3">
					<li><img src="img/doc.gif">为原始图片加上行间样式</li>
					<li><img src="img/doc.gif">为所有的fieldset加上内部样式</li>
				</ul>
			</ul>

		</div>
		<fieldset>
			<legend>原始图片</legend>
			<img id="fruit" src="img/fruit.jpg">
		</fieldset>
		<fieldset>
			<legend>图片路径</legend>
			<p id="msg1">在这里显示</p>
		</fieldset>
		<fieldset>
			<legend>选择你喜欢的水果</legend>
			<ul style="text-align: left;">
				<li>
					<input name="enjoy" type="checkbox" value="苹果" />苹果
				</li>
				<li>
					<input name="enjoy" type="checkbox" value="香蕉" checked="checked" />香蕉
				</li>
				<li>
					<input name="enjoy" type="checkbox" value="葡萄" />葡萄
				</li>
				<li>
					<input name="enjoy" type="checkbox" value="梨" checked="checked" />梨
				</li>
				<li>
					<input name="enjoy" type="checkbox" value="西瓜" />西瓜
				</li>
			</ul>
			<div id="msg2" style="margin-top: 10px;text-align: left;"></div>
		</fieldset>
		<fieldset>
			<legend>创建图片</legend>
			<div id="msg3"></div>
		</fieldset>
		<fieldset>
			<legend>克隆图片</legend>
			<div id="msg4"></div>
		</fieldset>
		<script>
			/* 189000833 牛隆祥 */
			//菜单收缩与扩展
			function show(item) {
				let currentMenu = document.getElementById(item);
				let currentStatus = currentMenu.style.display;
				currentMenu.style.display = currentStatus == "" ? "none" : "";
			}	
			/* 第一个 */
			var one = document.querySelector("ul>li");
			one.addEventListener("click",function(){
				//绝对路径:获取目标图片的路径
				var one1 = document.getElementById("fruit").src;
				//相对路径
				//var one111 = document.getElementById("fruit").getAttribute('src');
				var msg1 = document.getElementById("msg1");
				//将路径赋值给msg1 的内容中
				msg1.innerHTML = one1;
			});
			/* 第二个 */
			//获取“获取我喜欢的水果” 添加监听事件
			var two = document.querySelectorAll("ul>li")[1];
			//获取所有的checkbox
			var ss = document.querySelectorAll("input");
			var msg2 = document.getElementById("msg2");
			//给checkbox添加事件，当用户选中checkbox时能将checked返回给msg113，然后将该下标下的内容赋值给msg2输出
			two.addEventListener("click",function(){
				msg113 = [];
				for(var j = 0;j<ss.length;j++){
					if(ss[j].checked ==true)
					{
						msg113.push(ss[j].value);		
					}
				}	
				msg2.innerHTML = msg113;
			});						
			/* 第三个 */
			//同理获取目标添加事件.
			var three = document.querySelectorAll("ul>li")[2];
			three.addEventListener("click",function(){
				var msg3 = document.getElementById("msg3");
				//创建一个img 存放图片
				var img = document.createElement('img');
				//给msg3 清空内容，防止其多重clone
				msg3.innerHTML =' ';
				img.setAttribute('src','img/grape.jpg');
				msg3.appendChild(img);
			});
			/* 第四个 */
			//同理获取目标添加事件.
			var four = document.querySelectorAll("ul>li")[3];
			four.addEventListener("click",function(){
				var msg4 = document.getElementById("msg4");
				var img1 = document.createElement('img');
				var fruits = document.getElementById("fruit").src;
				//同第三个
				msg4.innerHTML =' ';
				img1.src = fruits;
				msg4.appendChild(img1);
			});
			/* 第五个 */
			//同理获取目标添加事件.
			var five = document.querySelectorAll("ul>li")[4];
			five.addEventListener("click",function(){
				var one11 = document.getElementById("fruit");
				//更改图片的路径
				one11.setAttribute('src',"img/grape.jpg");
			}); 
			/* 第六个 */
			//同理获取目标添加事件.
			var six = document.querySelectorAll("ul>li")[5];
			six.addEventListener("click",function(){
				var one2 = document.getElementById("fruit");
				//删除
				one2.remove();
			});
			/* 第七个 */
			//同理获取目标添加事件，然后田间css样式
			var seven = document.querySelectorAll("ul>li")[6];
			seven.addEventListener("click",function(){
				var one2 = document.getElementById("fruit");
				one2.setAttribute('style','border: 6px solid firebrick;');
			});
			/* 第八个 */
			//同理获取目标添加事件，然后田间css样式
			var eight = document.querySelectorAll("ul>li")[7];
			eight.addEventListener("click",function(){
				var one3 = document.getElementsByTagName("fieldset");
				//遍历fieldset 给其添加样式
				for(var i = 0 ;i<one3.length;i++)
				{
					one3[i].setAttribute('style','background-color: #9ACD32;');
				}
			});
		</script>	
	</body>
</html>
